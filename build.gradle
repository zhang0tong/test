apply plugin: 'war'
apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'idea'
apply plugin: 'org.akhikhl.gretty'

buildscript {
    repositories {
        mavenLocal()
        jcenter()
    }

    dependencies {
        classpath 'org.akhikhl.gretty:gretty:2.0.0'
    }
}

repositories {
    mavenLocal()
    jcenter()
}

if (!project.plugins.findPlugin(org.akhikhl.gretty.GrettyPlugin))
    project.apply(plugin: org.akhikhl.gretty.GrettyPlugin)

gretty {
    httpPort = 8080
    contextPath = '/MyGradleWeb'
    host = 'localhost'
    httpEnabled = true
    servletContainer = 'tomcat8'
    scanInterval = 1
    fastReload = true

    debugPort = 8088
    debugSuspend = true
    
}


group 'com.mjxn.gradle'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenLocal()
    mavenCentral()
    jcenter()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile group: 'org.akhikhl.gretty', name: 'gretty', version: '2.0.0'
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}
[compileJava, javadoc, compileTestJava]*.options*.encoding = 'UTF-8'